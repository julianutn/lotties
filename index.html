<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lottie con Texto Dinámico</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.0/lottie.min.js"></script>
    <style>
        #lottie-container {
            width: 300px;
            height: 300px;
            margin: 20px auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div id="lottie-container"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dynamicText = "¡Hola, Mundo!"; // Texto dinámico que deseas mostrar

            // JSON de animación Lottie
            const animationData = {
                "v": "5.7.4",
                "fr": 30,
                "ip": 0,
                "op": 60,
                "w": 512,
                "h": 512,
                "layers": [
                    {
                        "ty": 5,
                        "nm": "Dynamic Text",
                        "t": {
                            "d": {
                                "k": [
                                    {
                                        "s": {
                                            "sz": 36,
                                            "ps": [0, 0],
                                            "s": 72,
                                            "lh": 86.4,
                                            "fc": [0, 0, 0],
                                            "t": "{{dynamicText}}"
                                        },
                                        "t": 0
                                    }
                                ]
                            }
                        },
                        "ao": 0,
                        "ip": 0,
                        "op": 60,
                        "st": 0,
                        "bm": 0
                    }
                ]
            };

            // Renderizar la animación
            const lottieContainer = document.getElementById("lottie-container");
            const animation = lottie.loadAnimation({
                container: lottieContainer,
                renderer: 'svg',
                loop: true,
                autoplay: true,
                animationData: animationData // Pasa el JSON directamente
            });

            // Actualizar el texto dinámico después de cargar la animación
            animation.addEventListener("DOMLoaded", function () {
                animation.renderer.elements.forEach((layer) => {
                    if (layer.data.t && layer.data.t.d.k[0].s.t === "{{dynamicText}}") {
                        layer.data.t.d.k[0].s.t = dynamicText; // Cambiar el texto dinámico
                        layer.updateDocumentData(); // Aplicar cambios
                    }
                });
            });
        });
    </script>
</body>
</html>
